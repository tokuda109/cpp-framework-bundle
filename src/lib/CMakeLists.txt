cmake_minimum_required(VERSION 3.8.2 FATAL_ERROR)

set(CMAKE_SHARED_LINKER_FLAGS "-Wall")

add_library(
    ${FRAMEWORK_NAME} SHARED
    SampleLib.h
    SampleLib.mm
    sample.h
    sample.cpp
)

set_target_properties(
    ${FRAMEWORK_NAME} PROPERTIES
    LIBRARY_OUTPUT_DIRECTORY ${PROJECT_SOURCE_DIR}/SampleApp/Frameworks/
    FRAMEWORK ON
    VERSION ${PACKAGE_VERSION}
    FRAMEWORK_VERSION A
    MACOSX_FRAMEWORK_IDENTIFIER ${FRAMEWORK_BUNDLE_IDENTIFIER}
    PUBLIC_HEADER SampleLib.h
    XCODE_ATTRIBUTE_CODE_SIGN_IDENTITY ${CODE_SIGN_IDENTITY}
    XCODE_ATTRIBUTE_IPHONEOS_DEPLOYMENT_TARGET ${IPHONEOS_DEPLOYMENT_TARGET}
)

target_link_libraries(
    SampleLib
    "-framework Foundation"
)
